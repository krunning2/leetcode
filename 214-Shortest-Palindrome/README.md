1. Appending the "#"
2. Appending the reversed string
3. calculate the longest prefix and suffix in the string using KMP.