in place solution:

two for loop with one length / 2 another is length / 2 + 1 because of the length can be odd that we should + 1

then draw a 4 * 4 matrix and remember that i and j are always flip.